# History Quiz 서비스 PRD (Product Requirements Document)

## 1. 제품 개요

### 1.1 제품명
**History Quiz** - 역사 인물 유사도 기반 퀴즈 서비스

### 1.2 제품 목적
사용자가 역사 인물의 특성을 학습하고 이해할 수 있도록, 임베딩 기반 유사도 검사를 통해 역사 인물을 맞추는 퀴즈 서비스를 제공합니다.

### 1.3 핵심 가치
- **교육적 가치**: 역사 인물에 대한 깊이 있는 이해 증진
- **재미있는 학습**: 게임화된 방식으로 역사 학습 동기 부여
- **정확한 유사도 측정**: AI 기반 임베딩을 통한 정밀한 인물 특성 비교

## 2. 기능 요구사항

### 2.1 핵심 기능

#### 2.1.1 퀴즈 생성 기능
- **기능**: 사용자가 "퀴즈 생성" 버튼을 클릭하면 랜덤하게 역사 인물을 선정
- **입력**: CSV 데이터베이스에서 인물 정보 추출
- **출력**: 선정된 인물의 메타데이터 및 임베딩 벡터

#### 2.1.2 인물 메타데이터 구축
- **기능**: CSV 데이터를 기반으로 인물의 상세 정보 구조화
- **데이터 항목**:
  - 기본 정보 (이름, 생몰년도, 국적, 직업)
  - 주요 업적 및 사건
  - 성격적 특성
  - 역사적 배경
  - 관련 키워드

#### 2.1.3 임베딩 문장 생성
- **기능**: 인물 메타데이터를 종합하여 임베딩용 자연어 문장 생성
- **생성 규칙**:
  - 인물의 핵심 특성을 포함한 서술형 문장
  - 역사적 맥락과 업적을 연결한 문장
  - 성격적 특성과 행동 패턴을 포함한 문장

#### 2.1.4 벡터화 처리
- **기능**: 생성된 임베딩 문장을 벡터로 변환
- **기술**: 임베딩 모델 (예: Sentence-BERT, KoBERT 등)
- **출력**: 고차원 벡터 표현

#### 2.1.5 유사도 검사 및 비교
- **기능**: 사용자 입력 인물과 정답 인물 간의 유사도 계산
- **알고리즘**: 코사인 유사도 또는 유클리드 거리
- **출력**: 유사도 점수 (0-100% 또는 0-1 스케일)

### 2.2 사용자 인터랙션

#### 2.2.1 퀴즈 시작
1. 사용자가 "퀴즈 시작" 버튼 클릭
2. 시스템이 랜덤하게 정답 인물 선정
3. 인물 메타데이터 구축 및 임베딩 벡터 생성

#### 2.2.2 인물 입력 및 검사
1. 사용자가 추측하는 인물명 입력
2. 입력된 인물의 메타데이터 조회
3. 임베딩 벡터 생성
4. 정답 인물과의 유사도 계산
5. 유사도 결과 표시

#### 2.2.3 결과 피드백
- **유사도 점수 표시**: 정확한 수치로 유사도 제공
- **특성별 분석**: 어떤 부분이 유사하고 다른지 설명
- **힌트 제공**: 유사도가 낮을 경우 힌트 제공

## 3. 기술적 요구사항

### 3.1 데이터 처리
- **CSV 데이터 파싱**: 인물 정보를 구조화된 형태로 변환
- **메타데이터 정규화**: 일관된 형식으로 데이터 정리
- **임베딩 캐싱**: 계산된 벡터를 저장하여 성능 최적화

### 3.2 임베딩 모델
- **모델 선택**: 한국어 역사 텍스트에 최적화된 모델
- **벡터 차원**: 768차원 이상 권장
- **성능 요구사항**: 정확한 의미적 유사도 측정

### 3.3 유사도 계산
- **알고리즘**: 코사인 유사도 (cosine similarity)
- **정규화**: 벡터 정규화를 통한 일관된 비교
- **임계값 설정**: 유사도 판정 기준 설정

## 4. 데이터 플로우

### 4.1 퀴즈 생성 플로우
```
CSV 데이터 → 인물 랜덤 선정 → 메타데이터 구축 → 임베딩 문장 생성 → 벡터화 → 저장
```

### 4.2 유사도 검사 플로우
```
사용자 입력 → 인물 조회 → 메타데이터 구축 → 임베딩 문장 생성 → 벡터화 → 유사도 계산 → 결과 반환
```

## 5. 성능 요구사항

### 5.1 응답 시간
- **퀴즈 생성**: 3초 이내
- **유사도 계산**: 1초 이내
- **전체 처리**: 5초 이내

### 5.2 정확도
- **유사도 측정 정확도**: 90% 이상
- **인물 식별 정확도**: 95% 이상

## 6. 제약사항

### 6.1 기술적 제약
- 웹 인터페이스는 별도 구현 (현재 단계에서는 제외)
- CSV 데이터 형식에 의존
- 임베딩 모델의 성능에 제한

### 6.2 데이터 제약
- CSV에 포함된 인물만 퀴즈 대상
- 메타데이터의 품질이 서비스 품질에 직접 영향

## 7. 성공 지표

### 7.1 기능적 지표
- 퀴즈 생성 성공률: 100%
- 유사도 계산 정확도: 90% 이상
- 시스템 응답 시간: 요구사항 충족

### 7.2 사용자 경험 지표
- 유사도 점수의 직관적 이해도
- 힌트의 유용성
- 전체적인 퀴즈 완주율

## 8. 향후 확장 가능성

### 8.1 기능 확장
- 난이도별 퀴즈 (초급/중급/고급)
- 카테고리별 퀴즈 (정치가/예술가/과학자 등)
- 시간 제한 기능

### 8.2 기술 확장
- 실시간 멀티플레이어 모드
- 개인화된 추천 시스템
- 모바일 앱 개발

---

**문서 버전**: 1.0  
**작성일**: 2024년  
**작성자**: AI Assistant  
**검토 상태**: 초안
